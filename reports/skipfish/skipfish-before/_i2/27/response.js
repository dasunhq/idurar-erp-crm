var res = {'data':'HTTP/1.1 200 Partial Content\x0aServer: nginx/1.29.1\x0aDate: Wed, 01 Oct 2025 06:45:35 GMT\x0aContent-Type: application/javascript\x0aContent-Length: 4876\x0aLast-Modified: Wed, 01 Oct 2025 04:26:03 GMT\x0aConnection: keep-alive\x0aETag: \x2268dcad5b-130c\x22\x0aExpires: Thu, 01 Oct 2026 06:45:35 GMT\x0aCache-Control: max-age=31536000\x0aCache-Control: public, immutable\x0aContent-Range: bytes 0-4875/4876\x0a\x0aimport{ap as v,ah as e,a as r}from\x22./index-C4nMWe5y.js\x22;import{d as f}from\x22./index-Ci5STuGe.js\x22;import{A as k}from\x22./index-Cx6IiUbX.js\x22;import{I as P,M as m}from\x22./index-CAOdWOmb.js\x22;import{a as S}from\x22./ErpApp-BZucdkXu.js\x22;import\x22./useMoney-5XCsrR9m.js\x22;import{u as _}from\x22./useDate-BK7OBCbi.js\x22;import{Y as c,W as s,a0 as a,_ as O,X as y,E as w,G as Y}from\x22./IdurarOs-BCtZVZqe.js\x22;import{c as x}from\x22./calculate-DbSGk6nY.js\x22;import{D as N,S as M}from\x22./index-D1pTFRzE.js\x22;import{T as b}from\x22./index-6VrU-YIl.js\x22;import{S as B}from\x22./index-DyraH4Lq.js\x22;import{P as I}from\x22./PlusOutlined-CUdEX3TB.js\x22;function ae({subTotal:l=0,current:i=null}){const{last_invoice_number:t}=v(S);return t===void 0?e.jsx(e.Fragment,{}):e.jsx(G,{subTotal:l,current:i})}function G({subTotal:l=0,current:i=null}){const t=Y(),{dateFormat:p}=_(),{last_invoice_number:T}=v(S),[F,R]=r.useState(0),[u,j]=r.useState(0),[D,L]=r.useState(0),[A,C]=r.useState(()=\x3enew Date().getFullYear()),[V,q]=r.useState(()=\x3eT+1),E=n=\x3e{j(n/100)};r.useEffect(()=\x3e{if(i){const{taxRate:n=0,year:o,number:d}=i;j(n/100),C(o),q(d)}},[i]),r.useEffect(()=\x3e{const n=x.add(x.multiply(l,u),l);L(Number.parseFloat(x.multiply(l,u))),R(Number.parseFloat(n))},[l,u]);const h=r.useRef(!1);return r.useEffect(()=\x3e{h.current.click()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(c,{gutter:[12,0],children:[e.jsx(s,{className:\x22gutter-row\x22,span:8,children:e.jsx(a.Item,{name:\x22client\x22,label:t(\x22Client\x22),rules:[{required:!0}],children:e.jsx(k,{entity:\x22client\x22,displayLabels:[\x22name\x22],searchFields:\x22name\x22,redirectLabel:\x22Add New Client\x22,withRedirect:!0,urlToRedirect:\x22/customer\x22})})}),e.jsx(s,{className:\x22gutter-row\x22,span:3,children:e.jsx(a.Item,{label:t(\x22number\x22),name:\x22number\x22,initialValue:V,rules:[{required:!0}],children:e.jsx(b,{min:1,style:{width:\x22100%\x22}})})}),e.jsx(s,{className:\x22gutter-row\x22,span:3,children:e.jsx(a.Item,{label:t(\x22year\x22),name:\x22year\x22,initialValue:A,rules:[{required:!0}],children:e.jsx(b,{style:{width:\x22100%\x22}})})}),e.jsx(s,{className:\x22gutter-row\x22,span:5,children:e.jsx(a.Item,{label:t(\x22status\x22),name:\x22status\x22,rules:[{required:!1}],initialValue:\x22draft\x22,children:e.jsx(B,{options:[{value:\x22draft\x22,label:t(\x22Draft\x22)},{value:\x22pending\x22,label:t(\x22Pending\x22)},{value:\x22sent\x22,label:t(\x22Sent\x22)}]})})}),e.jsx(s,{className:\x22gutter-row\x22,span:8,children:e.jsx(a.Item,{name:\x22date\x22,label:t(\x22Date\x22),rules:[{required:!0,type:\x22object\x22}],initialValue:f(),children:e.jsx(N,{style:{width:\x22100%\x22},format:p})})}),e.jsx(s,{className:\x22gutter-row\x22,span:6,children:e.jsx(a.Item,{name:\x22expiredDate\x22,label:t(\x22Expire Date\x22),rules:[{required:!0,type:\x22object\x22}],initialValue:f().add(30,\x22days\x22),children:e.jsx(N,{style:{width:\x22100%\x22},format:p})})}),e.jsx(s,{className:\x22gutter-row\x22,span:10,children:e.jsx(a.Item,{label:t(\x22Note\x22),name:\x22notes\x22,children:e.jsx(O,{})})})]}),e.jsx(y,{dashed:!0}),e.jsxs(c,{gutter:[12,12],style:{position:\x22relative\x22},children:[e.jsx(s,{className:\x22gutter-row\x22,span:5,children:e.jsx(\x22p\x22,{children:t(\x22Item\x22)})}),e.jsx(s,{className:\x22gutter-row\x22,span:7,children:e.jsx(\x22p\x22,{children:t(\x22Description\x22)})}),e.jsxs(s,{className:\x22gutter-row\x22,span:3,children:[e.jsx(\x22p\x22,{children:t(\x22Quantity\x22)}),\x22 \x22]}),e.jsx(s,{className:\x22gutter-row\x22,span:4,children:e.jsx(\x22p\x22,{children:t(\x22Price\x22)})}),e.jsx(s,{className:\x22gutter-row\x22,span:5,children:e.jsx(\x22p\x22,{children:t(\x22Total\x22)})})]}),e.jsx(a.List,{name:\x22items\x22,children:(n,{add:o,remove:d})=\x3ee.jsxs(e.Fragment,{children:[n.map(g=\x3ee.jsx(P,{remove:d,field:g,current:i},g.key)),e.jsx(a.Item,{children:e.jsx(w,{type:\x22dashed\x22,onClick:()=\x3eo(),block:!0,icon:e.jsx(I,{}),ref:h,children:t(\x22Add field\x22)})})]})}),e.jsx(y,{dashed:!0}),e.jsxs(\x22div\x22,{style:{position:\x22relative\x22,width:\x22 100%\x22,float:\x22right\x22},children:[e.jsxs(c,{gutter:[12,-5],children:[e.jsx(s,{className:\x22gutter-row\x22,span:5,children:e.jsx(a.Item,{children:e.jsx(w,{type:\x22primary\x22,htmlType:\x22submit\x22,icon:e.jsx(I,{}),block:!0,children:t(\x22Save\x22)})})}),e.jsx(s,{className:\x22gutter-row\x22,span:4,offset:10,children:e.jsxs(\x22p\x22,{style:{paddingLeft:\x2212px\x22,paddingTop:\x225px\x22,margin:0,textAlign:\x22right\x22},children:[t(\x22Sub Total\x22),\x22 :\x22]})}),e.jsx(s,{className:\x22gutter-row\x22,span:5,children:e.jsx(m,{readOnly:!0,value:l})})]}),e.jsxs(c,{gutter:[12,-5],children:[e.jsx(s,{className:\x22gutter-row\x22,span:4,offset:15,children:e.jsx(a.Item,{name:\x22taxRate\x22,rules:[{required:!0}],children:e.jsx(M,{value:u,onChange:E,entity:\x22taxes\x22,outputValue:\x22taxValue\x22,displayLabels:[\x22taxName\x22],withRedirect:!0,urlToRedirect:\x22/taxes\x22,redirectLabel:t(\x22Add New Tax\x22),placeholder:t(\x22Select Tax Value\x22)})})}),e.jsx(s,{className:\x22gutter-row\x22,span:5,children:e.jsx(m,{readOnly:!0,value:D})})]}),e.jsxs(c,{gutter:[12,-5],children:[e.jsx(s,{className:\x22gutter-row\x22,span:4,offset:15,children:e.jsxs(\x22p\x22,{style:{paddingLeft:\x2212px\x22,paddingTop:\x225px\x22,margin:0,textAlign:\x22right\x22},children:[t(\x22Total\x22),\x22 :\x22]})}),e.jsx(s,{className:\x22gutter-row\x22,span:5,children:e.jsx(m,{readOnly:!0,value:F})})]})]})]})}export{ae as I};\x0a/%3e%3\x81\x07'}